{% style %}
  .shape-{{ section.id }} {
    background: {% if section.settings.gradient == blank %}{{ section.settings.color }}{% else %}{{ section.settings.gradient }}{% endif %};
    height: 100%;
    width: 100%;
    display: block;
    clip-path: url(#myGradient-{{ section.id }});
  }

  .shape-{{ section.id }} svg {
    width: {{ section.settings.width }}px;
  }
{% endstyle %}

<div class="shape-{{ section.id }}" style="transform: {{ section.settings.direction }}">
  {% assign variable_id = 'myGradient-' | append: section.id -%}

  {%- case section.settings.shape -%}
    {%- when 'wave' -%}
      {%- render 'icon-wave', variable: variable_id -%}
    {%- when 'wave-shade' -%}
      {%- render 'icon-wave-shade', variable: variable_id -%}
    {%- when 'curve' -%}
      {%- render 'icon-curve', variable: variable_id -%}
    {%- when 'triangle' -%}
      {%- render 'icon-triangle', variable: variable_id -%}
  {%- endcase -%}
</div>

{% schema %}
{
  "name": "Shape",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "select",
      "id": "shape",
      "options": [
        {
          "value": "wave",
          "label": "Wave"
        },
        {
          "value": "wave-shade",
          "label": "Wave shade"
        },
        {
          "value": "curve",
          "label": "Curve"
        },
        {
          "value": "triangle",
          "label": "Triangle"
        }
      ],
      "default": "wave",
      "label": "Wave"
    },
    {
      "type": "color",
      "id": "color",
      "default": "#000000",
      "label": "Color"
    },
    {
      "type": "color_background",
      "id": "gradient",
      "label": "Gradient"
    },
    {
      "type": "select",
      "id": "direction",
      "label": "Direction",
      "options": [
        {
          "value": "rotate(0deg)",
          "label": "Up"
        },
        {
          "value": "rotate(180deg)",
          "label": "Down"
        }
      ],
      "default": "rotate(0deg)",
      "label": "Up"
    },
    {
      "type": "range",
      "id": "width",
      "label": "Width",
      "min": 1200,
      "max": 3000,
      "step": 200,
      "unit": "px",
      "default": 1200
    }
  ],
  "presets": [
    {
      "name": "Shape"
    }
  ]
}
{% endschema %}